!function(e){function t(t){for(var o,r,d=t[0],a=t[1],i=t[2],u=0,m=[];u<d.length;u++)r=d[u],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&m.push(c[r][0]),c[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);for(s&&s(t);m.length;)m.shift()();return l.push.apply(l,i||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],o=!0,d=1;d<n.length;d++){var a=n[d];0!==c[a]&&(o=!1)}o&&(l.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},c={0:0},l=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var d=window.webpackJsonp=window.webpackJsonp||[],a=d.push.bind(d);d.push=t,d=d.slice();for(var i=0;i<d.length;i++)t(d[i]);var s=a;l.push([121,1]),n()}({121:function(e,t,n){n(122),e.exports=n(310)},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);n(308),n(309),n.p,n.p;function o(e){e.addEventListener("dblclick",(function(t){e.setAttribute("contenteditable","true"),e.focus(),e.classList.add("focus"),document.onmousemove=null,document.onmouseup=null})),e.addEventListener("blur",(function(t){e.removeAttribute("contenteditable"),e.classList.remove("focus"),(null==e.innerHTML||""==e.innerHTML&&e.classList.contains("column-header"))&&e.closest(".column").remove(),(null==e.innerHTML||""==e.innerHTML&&e.classList.contains("note-text"))&&e.closest(".note").remove()}))}var c=null,l=null,r=null,d=!1;function a(e){if(document.elementFromPoint(e.clientX,e.clientY).classList.contains("column")){c=this;var t=e.target.parentElement;if(!document.elementFromPoint(e.clientX,e.clientY).classList.contains("focus")){e.preventDefault();var n=e.clientX-c.getBoundingClientRect().left,o=e.clientY-c.getBoundingClientRect().top,a=setInterval((function(){return r=e.clientX}),20);document.onmousedown=function(e){l=null},document.onmousemove=function(e){if(!d&&c){if(document.elementFromPoint(e.clientX,e.clientY).classList.contains("focus"))return;c.classList.add("rotated"),(l=document.createElement("div")).classList.add("shadow-column"),l.style.width=c.offsetWidth+"px",l.style.height=c.offsetHeight+"px",c.after(l),c.style.width=c.offsetWidth+"px",c.style.height=c.offsetHeight+"px",c.style.position="absolute",document.body.append(c),c.style.zIndex=1e3,document.body.append(c),d=!0}c.hidden=!0;var t,a,i=document.elementFromPoint(e.clientX,e.clientY);if(c.hidden=!1,i){var s=i.closest(".wrapper"),u=i.closest(".adder"),m=i.closest(".column");t=e.pageX,a=e.pageY,c.style.left=t-n+"px",c.style.top=a-o+"px",s?r<e.clientX?s.after(l):s.before(l):u?u.before(l):m&&(r<e.clientX?s.parentElement.after(l):s.parentElement.before(l))}},document.onmouseup=function(e){if(c&&l){c.style.position="static",c.style.height="",c.style.width="";var n=document.createElement("div");n.classList.add("wrapper"),n.append(c),l.after(n),l.remove(),t.remove(),c.classList.remove("rotated"),c.onmouseup=null,c=null,d=!1,clearTimeout(a),a=null,document.onmousemove=null,document.onmouseup=null}else document.onmousemove=null}}}}var i=null,s=null,u=!1,m=!1;function p(e){if(!(i=this).querySelector(".note-text").classList.contains("focus")&&!document.elementFromPoint(e.clientX,e.clientY).classList.contains("delete-note")&&!document.elementFromPoint(e.clientX,e.clientY).classList.contains("delete-note-two")){e.preventDefault();var t=e.clientX-i.getBoundingClientRect().left,n=e.clientY-i.getBoundingClientRect().top;document.onmousemove=function(e){if(!i||!i.classList.contains("focus")){u||(i.classList.add("rotated"),(s=document.createElement("div")).classList.add("shadow"),s.style.width=i.offsetWidth+"px",s.style.height=i.offsetHeight+"px",i.after(s),i.style.width=i.offsetWidth+"px",i.style.height=i.offsetHeight+"px",i.style.position="absolute",document.body.append(i),i.style.zIndex=1e3,document.body.append(i),u=!0),i.hidden=!0;var o=document.elementFromPoint(e.clientX,e.clientY);i.hidden=!1;var c,l,r=o.closest(".note"),d=o.closest(".column-footer"),a=o.closest(".wrapper"),p=o.closest(".column");c=e.pageX,l=e.pageY,i.style.left=c-t+"px",i.style.top=l-n+"px",r?(r.before(s),m=!0):d?(d.previousElementSibling.append(s),m=!0):a&&!p&&(setTimeout((function(){return m=!1}),50),m||(a.lastElementChild.lastElementChild.previousElementSibling.append(s),m=!0))}},document.onmouseup=function(){i&&s&&(u=!1,i.style.position="static",i.style.height="",i.style.width="",s.after(i),s.remove(),i.classList.remove("rotated"),i.onmouseup=null,i=null,document.onmousemove=null,document.onmouseup=null)}}}var f=document.querySelectorAll(".note").length;function v(e){var t=e.querySelector("[data-action-addNote]"),n=e.querySelector(".add-note");t.addEventListener("click",(function(e){n.hidden=!1,t.hidden=!0,n.querySelector("textarea").focus()})),o(n.querySelector("textarea")),n.addEventListener("submit",(function(c){c.preventDefault();var l=n.querySelector("textarea").value,r=document.createElement("div");r.classList.add("note"),r.setAttribute("data-note-id",f);var d=document.createElement("div");d.classList.add("note-text"),f++,null!=l&&""!=l||(l="План №".concat(f)),d.innerHTML=l,n.querySelector("textarea").value="";var a=document.createElement("img");a.setAttribute("src","./cross.png"),a.classList.add("cross-img"),a.onclick=function(e){r.remove()},r.append(d),r.append(a),function(e){o(e.querySelector(".note-text")),e.addEventListener("mousedown",p)}(r),e.querySelector("[data-notes]").append(r),e.querySelector("[data-notes]").clientHeight-r.getBoundingClientRect().bottom<0&&e.querySelector("[data-notes]").scrollBy(0,r.getBoundingClientRect().bottom-e.querySelector("[data-notes]").clientHeight),n.hidden=!0,t.hidden=!1})),n.querySelector(".cross").addEventListener("click",(function(e){n.hidden=!0,t.hidden=!1})),e.addEventListener("mousedown",a),o(e.querySelector(".column-header"))}var h,y,g;document.querySelectorAll(".wrapper").length;h=document.querySelectorAll(".wrapper").length,y=document.querySelector(".add-column-form"),g=document.querySelector("[data-action-addColumn]"),o(y.querySelector("textarea")),y.addEventListener("submit",(function(e){e.preventDefault();var t=y.querySelector("textarea").value,n=document.createElement("div");n.classList.add("column"),n.setAttribute("data-column-id",h),h++;var c=document.createElement("p");c.classList.add("column-header"),null!=t&&""!=t||(t="Таблица №".concat(h)),c.innerHTML=t,y.querySelector("textarea").value="",o(c);var l=document.createElement("div");l.classList.add("delete-column");var r=document.createElement("div");r.classList.add("delete-column-two"),l.append(r),l.onclick=function(e){n.remove()},n.append(c),n.append(l);var d=document.createElement("div");d.setAttribute("data-notes",""),d.classList.add("notes"),n.append(d);var a=document.createElement("p");a.classList.add("column-footer");var i=document.createElement("span");i.classList.add("action"),i.innerHTML="Добавить еще одну карточку";var s=document.createElement("div");s.classList.add("vector");var u=document.createElement("div");u.classList.add("vector_two");var m=document.createElement("form");m.classList.add("add-note");var p=document.createElement("div");p.setAttribute("data-action-addNote",""),p.classList.add("add-form"),m.hidden=!0;var f=document.createElement("textarea");f.setAttribute("placeholder","Введите название карточки");var L=document.createElement("button");L.setAttribute("type","submit"),L.innerHTML="Добавить карточку";var b=document.createElement("div");b.classList.add("cross");var E=document.createElement("div");E.classList.add("cross_two"),b.append(E),s.append(u),m.append(f),m.append(L),m.append(b),p.append(s),p.append(i),a.append(p),a.append(m),n.append(a),v(n);var x=document.createElement("div");x.classList.add("wrapper"),x.append(n),document.querySelector(".columns").append(x),document.documentElement.clientWidth-y.getBoundingClientRect().right<0&&window.scrollBy(y.getBoundingClientRect().right-document.documentElement.clientWidth,0),y.hidden=!0,g.hidden=!1})),y.querySelector(".cross").addEventListener("click",(function(e){y.hidden=!0,g.hidden=!1})),y.hidden=!0,document.ondragstart=function(){return!1},document.querySelector("[data-action-addColumn]").addEventListener("click",(function(e){y.hidden=!1,this.hidden=!0,y.querySelector("textarea").focus()}))}});